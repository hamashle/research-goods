d set $lm2m0p0 1 4014000000000000
d set $lm4m0p0 1 4014000000000000
d set $lm6m0p0 1 4014000000000000
d set $lm8m0p0 1 4014000000000000
d set $lm22m0p0 1 4014000000000000
d set $lm34m0p0 1 4014000000000000
d set $lm46m0p0 1 4014000000000000
d set $lm58m0p0 1 4014000000000000
d set $lm62m0p0 1 4014000000000000
d set $lm64m0p0 1 4014000000000000
d set $lm66m0p0 1 4014000000000000
d set $lm68m0p0 1 4014000000000000

#d set $lm2m0p1 1 4014000000000000
#d set $lm4m0p1 1 4014000000000000
#d set $lm6m0p1 1 4014000000000000
#d set $lm8m0p1 1 4014000000000000
#d set $lm22m0p1 1 4014000000000000
#d set $lm34m0p1 1 4014000000000000
#d set $lm46m0p1 1 4014000000000000
#d set $lm58m0p1 1 4014000000000000
#d set $lm62m0p1 1 4014000000000000
#d set $lm64m0p1 1 4014000000000000
#d set $lm66m0p1 1 4014000000000000
#d set $lm68m0p1 1 4014000000000000

lpassa $peid $lr32v
nop
l1bmd $lr32 $lb0 # N
l1bmd $lr34 $lb128 # S
l1bmd $lr36 $lb256 # E
l1bmd $lr38 $lb384 # W 長語で64x2なので128ずつ増加

## PE -> L1B for N PEで計算したものをL1Bで保存する
l1bmd $lm14 $lb512 # (1,1)
l1bmd $lm16 $lb640 # (1,2)
l1bmd $lm18 $lb768 # (1,3)
l1bmd $lm20 $lb896 # (1,4)

## PE -> L1B for S
l1bmd $lm50 $lb1024 # (4,1)
l1bmd $lm52 $lb1152 # (4,2)
l1bmd $lm54 $lb1280 # (4,3)
l1bmd $lm56 $lb1408 # (4,4)

nop
nop

# N -> S　これが交互に続く　

l1bmp $lb128 $t
nop
lxor $t $ln0v $t $omr2;
maskm 2

l1bmp $lb512 $lm62
l1bmp $lb640 $lm64
l1bmp $lb768 $lm66
l1bmp $lb896 $lm68

# S -> N これが交互に続く
l1bmp $lb0 $t
nop
lxor $t $ln0v $t $omr2; #nointr
maskm 2

l1bmp $lb1024 $lm2
l1bmp $lb1152 $lm4
l1bmp $lb1280 $lm6
l1bmp $lb408 $lm8

mask 0